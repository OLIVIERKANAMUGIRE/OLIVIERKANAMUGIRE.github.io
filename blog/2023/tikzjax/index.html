<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> a post with TikZJax | Olivier KANAMUGIRE </title> <meta name="author" content="Olivier KANAMUGIRE"> <meta name="description" content="this is what included TikZ code could look like"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?v=a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?v=f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?v=62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?v=591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?v=d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://olivierkanamugire.github.io/blog/2023/tikzjax/"> <script src="/assets/js/theme.js?v=a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?v=5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> <link defer rel="stylesheet" type="text/css" href="https://tikzjax.com/v1/fonts.css"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Olivier</span> KANAMUGIRE </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Writings </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">a post with TikZJax</h1> <p class="post-meta"> Created on December 12, 2023 </p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/formatting"> <i class="fa-solid fa-hashtag fa-sm"></i> formatting</a>   <a href="/blog/tag/diagrams"> <i class="fa-solid fa-hashtag fa-sm"></i> diagrams</a>   ·   <a href="/blog/category/sample-posts"> <i class="fa-solid fa-tag fa-sm"></i> sample-posts</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="introduction">INTRODUCTION</h2> <p>This exercise aims on developing a classification model utilizing logistic regression. The primary objective is to construct a logistic model to determine whether a given observation indicates that the 8-path liquid ultrasonic flow meter is healthy or if it has been influenced by installation effects.</p> <p>The data processing phase consists of several key steps, including reading data from a text file, preprocessing it, and splitting the dataset for training and testing purposes. These steps are essential for preparing the data for effective classification.<br> The model will be evaluated on both training and test sets, and we will monitor the convergence behavior throughout the optimization process by tracking the number of iterations. Various predictors, such as flatness, ratio, symmetry, crossflow, and flow velocity, will be utilized to assess whether a given experimental observation of the ultrasonic flow meter indicates a healthy state or reveals any installation effects. Through this approach, we aim to build a model capable of accurately classifying the state of the flow meter based on the available data.</p> <h2 id="about-the-dataset">ABOUT THE DATASET</h2> <p>The dataset consists of sample measurements of the ultrasonic flow meters \cite{ultrasonic_flowmeter_diagnostics_433}. It is called ‘Meter A’ and it contains 87 instances of diagnostic parameters for an 8-path liquid ultrasonic flow meter (USM). It has 36 continuous independent attributes and one discrete dependent variable with classes of two health states: Healthy with numerical value 1 and installation effect with 2.</p> <h2 id="data-preprocessing">DATA PREPROCESSING##</h2> <p>Feature matrix (X) was separated from the target (y) and the class attribute was converted to binary classification 1 and 0 where 1 represents the healthy condition and 0 represents the installation effect. The predictors are so sparse that they need to be normalized as presented in Figure \ref{fig1}. To center and scale them, we have adopted the ‘Z-score’ technique calculated by the formula \ref{eq1} \begin{equation}\label{eq1} z = \frac{(x - \mu)}{\sigma}, \end{equation} where $x$ is the raw score, $\mu$ is the population mean, and $\sigma$ is the population standard deviation.</p> <p>After the Z-score transformation, Figure \ref{fig1} is transformed into Figure \ref{fig2}. Additionally, we examined the dataset for missing values and confirmed that there were none present. Furthermore, we assessed the dataset for categorical variables that required removal or encoding and found no such variables. \begin{figure} \centering \includegraphics[width=\linewidth]{box1.jpg} \caption{Box plot of data before standardization} \label{fig1} \end{figure}</p> <p>\begin{figure} \centering \includegraphics[width=\linewidth]{box2.jpg} \caption{Box plot of data after standardization} \label{fig2} \end{figure}</p> <p>\subsection{TRAIN TEST SPLIT}</p> <p>Given the limited size of our dataset, we employed a two-way splitting approach to divide it into training and test sets. However, due to the sequential alignment of the data where healthy observations were aligned first and followed by those installation effects observations, we decided to shuffle the dataset before splitting to ensure a more representative distribution in both sets.</p> <p>To gain a clearer understanding of our model, we experimented with various training set sizes. We began with a 60:40 ratio, followed by 65:35, 70:30, 75:25, and finally, an 80:20 ratio. This approach allowed us to assess how the size of the training set affected the model’s predictive accuracy and generalization capabilities.</p> <p>\section{MODEL IMPLEMENTATION AND METHODOLOGY } \subsection{LOGISTIC REGRESSION}</p> <p>Logistic regression is used for classification tasks. It attempts to model the relationship between two or more explanatory variables and a response variable to predict the probability that an instance belongs to a given class or not.</p> <p>It uses a sigmoid function to predict the probabilities as the function output ranges from 0 to 1. \begin{equation}\label{eqn2} \sigma(x) = \frac{1}{1 + e^{-x}}, \end{equation} where $x$ is the input value and $e$ is the base of natural logarithm.</p> <p>\subsection{THE COST FUNCTION AND OPTIMIZATION} The negative log-likelihood function is employed as the cost function for logistic regression:</p> <p>\begin{equation} \text{Cost}(\beta) = -\sum_{i=1}^{n} \left[ y_i \log(\sigma(X_i \beta)) + (1 - y_i) \log(1 - \sigma(X_i \beta)) \right] \end{equation} where ( n ) is the number of observations, and ( y_i ) is the actual class label for the ( i )-th observation.</p> <p>Note that we initialized the weight as zero and embedded the bis term within the data matrix X.</p> <p>For parameter optimization, we employed the \texttt{`fminsearch’} algorithm in MATLAB, utilizing the negative log-likelihood function as our cost function. A custom output function was created to track the loss history and the number of iterations during the optimization process. <br> Importantly, we restricted ourselves from explicitly setting stopping criteria to avoid premature convergence, allowing the algorithm to determine the optimal parameters based on the data.</p> <p>\subsection{EVALUATION METRICS}</p> <p>The evaluation of our logistic regression model was done using several key metrics to assess its performance. \After training, predictions were generated on both the training and test datasets. The primary evaluation metric used was accuracy, which measures the proportion of correctly classified observations out of the total. Additionally, a confusion matrix was generated to provide a detailed breakdown of true positives (TP), true negatives (TN), false positives (FP), and false negatives (FN). By visualizing the confusion matrix, we could better understand the model’s strengths and weaknesses in terms of misclassifications. Based on the confusion matrices, Recall and Precision were calculated as well.</p> <p>\begin{equation} \text{Recall} = \frac{TP}{TP + FN} \end{equation}</p> <p>\begin{equation} \text{Precision} = \frac{TP}{TP + FP} \end{equation}</p> <p>\newpage \section{RESULTS AND DISCUSSION} \label{sec4}</p> <p>\subsection{OPTIMIZATION} \begin{figure}[H] \centering</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{minipage}{0.45\textwidth}
    \centering
    \includegraphics[width=\linewidth]{fminsearch60.jpg}
    \caption{Convergence track with 60:40 split ratio}
    \label{fig:box1}
\end{minipage}%
\hfill
\begin{minipage}{0.45\textwidth}
    \textit{This figure illustrates the convergence of the loss function for the 60:40 training-to-test split. The negative log-likelihood demonstrates a consistent decline as the iterations progress. This one shows the most significant initial drop among all the splits, with the cost function starting around 36. Furthermore, the optimization process finished after 6,601 iterations.}
\end{minipage}

\vspace{0.5cm} % space between figures

\begin{minipage}{0.45\textwidth}
    \centering
    \includegraphics[width=\linewidth]{fminsearch75.jpg}
    \caption{Convergence track with 75:25 split ratio}
    \label{fig:box2}
\end{minipage}%
\hfill
\begin{minipage}{0.45\textwidth}
    \textit{This figure shows the convergence of the loss function for the 75:25 training-to-test split. The negative log-likelihood demonstrates a consistent decline as the iterations progress. However, it is not as steep as the previous split because the training data has increased. The optimization process finished after 6,613 iterations.}
\end{minipage}

\vspace{0.5cm} % space between figures

\begin{minipage}{0.45\textwidth}
    \centering
    \includegraphics[width=\linewidth]{fminsearch80.jpg}
    \caption{Convergence track with 80:20 split ratio}
    \label{fig:box3}
\end{minipage}%
\hfill
\begin{minipage}{0.45\textwidth}
    \textit{Visualize this figure with the 80:20 split; there is no really big difference from the 75:25 because the dataset quantity is not that far. It required 6,558 iterations for the optimization to complete. We observe that as we increase the size of the training dataset, more optimization iterations are required. Therefore, this tells us that if we have a lot of data, it is better to specify the stopping criterion.}
\end{minipage}
</code></pre></div></div> <p>\end{figure}</p> <p>\subsection{MODEL PERFORMANCE: CLASSIFICATION ACCURACY}</p> <p>As already stated before, we applied logistic regression from which we got several values that can be used in the analysis and prediction: model coefficients (beta values) and accuracy percentage. With different split, the training and testing accuracy percentages are presented in the table below:</p> <p>\begin{table}[H] \centering \renewcommand{\arraystretch}{1.5} % Increase the row height for better readability \setlength{\tabcolsep}{12pt} % Add horizontal padding between columns \begin{tabular}{lcc} \toprule \textbf{Split Ratio} &amp; \textbf{Training Accuracy (\%)} &amp; \textbf{Testing Accuracy (\%)} <br> \midrule \textbf{60:40} &amp; 80.77 &amp; 82.86 <br> \textbf{75:25} &amp; 83.08 &amp; 100.00 <br> \textbf{80:20} &amp; 90.00 &amp; 76.47 <br> \bottomrule \end{tabular} \caption{Classification accuracy for different train-test split ratios} \label{tab:classification_accuracy} \end{table}</p> <p>The beta values represent the contribution of each feature to the model’s prediction. While each split presents a different scenario, the 25th (gain at the fifth end of each of the eight paths) variable consistently exhibits the highest impact.</p> <p>In the 80:20 split, the 25th variable is the most significant contributor, with a beta value reaching 21.5878. This is notably higher compared to the other variables, which range between -10 and 10.</p> <p>For the 60:40 split, the 25th variable again shows a strong influence, though negative in this case, with a value of -6.0854, while the other variables remain within the range of -4 to +4.5.</p> <p>Finally, in the 75:25 split, most features fall within a narrow range of -3 to 3, but the 25th variable still stands out with a comparatively higher magnitude, underscoring its continued significance across different splits. \subsection{MODEL PERFORMANCE: CONFUSION MATRICES} \begin{multicols}{3} \begin{minipage}{\linewidth} \includegraphics[width=\linewidth]{conf60.jpg} \caption{\small{Confusion matrix for 60:40 split}} \label{fig:conf60} \vspace{0.5cm} % Space between figure and text <br> \textit{Precision }$= \frac{18}{18+5} = 0.7826$.<br> \textit{Recall }$= \frac{18}{18+1} = 0.9474$.<br> \textit{This value of precision shows that out of all predicted observations as healthy, 78.26\% were actually healthy. The Recall value tells us that out of all healthy observations, 94.74\% were predicted as healthy.} \end{minipage}</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{minipage}{\linewidth}
    \includegraphics[width=\linewidth]{conf75.jpg}
    \caption{\small{Confusion matrix for 75:25 split}}        \label{fig:conf75}
    \vspace{0.5cm} % Space between figure and text
    \\
    \textit{There is no use to calculate recall or precision because it is clear that it 100\% Because there was no misclassifications here.}
\end{minipage}

\begin{minipage}{\linewidth}
    \includegraphics[width=\linewidth]{conf80.jpg}
    \caption{\small{Confusion matrix for 80:20 split}}
    \label{fig:conf80}
    \vspace{0.5cm} % Space between figure and text
    \\
    \textit{Precision }$= \frac{6}{6+3} = 0.6667$.\\
    \textit{Recall }$= \frac{6}{7} = 0.8571$.\\
    \textit{This value of precision shows that out of all predicted observations as healthy, 66.67\% were actually healthy. The Recall value tells us that out of all healthy observations, 85.71\% were predicted as healthy.}
\end{minipage}
</code></pre></div></div> <p>\end{multicols}</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="https://blog.google/technology/ai/google-gemini-update-flash-ai-assistant-io-2024/" target="_blank" rel="external nofollow noopener">Google Gemini updates: Flash 1.5, Gemma 2 and Project Astra</a> <svg width="1rem" height="1rem" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="https://medium.com/@al-folio/displaying-external-posts-on-your-al-folio-blog-b60a1d241a0a?source=rss-17feae71c3c4------2" target="_blank" rel="external nofollow noopener">Displaying External Posts on Your al-folio Blog</a> <svg width="1rem" height="1rem" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/svm/">Nonlinear Support Vector Machine (SVM) with Polynomial Kernel</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/plotly/">a post with plotly.js</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/logistic_regression/">Logistic Regression for Ultrasonic Flow Meter Health Classification</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 Olivier KANAMUGIRE. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?v=a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://tikzjax.com/v1/tikzjax.js" integrity="sha256-+1qyucCXRZJrCg3lm3KxRt/7WXaYhBid4/1XJRHGB1E=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?v=85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?v=2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?v=c15de51d4bb57887caa2c21988d97279"></script> <script defer src="/assets/js/copy_code.js?v=c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?v=d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?v=a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?v=2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?v=f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?v=a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?v=6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?v=6f508d74becd347268a7f822bca7309d"></script> </body> </html>